{"version":3,"sources":["../../../src/components/ui/carousel.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nfunction Carousel({\n  orientation = \"horizontal\",\n  opts,\n  setApi,\n  plugins,\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & CarouselProps) {\n  const [carouselRef, api] = useEmblaCarousel(\n    {\n      ...opts,\n      axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n    },\n    plugins\n  )\n  const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n  const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n  const onSelect = React.useCallback((api: CarouselApi) => {\n    if (!api) return\n    setCanScrollPrev(api.canScrollPrev())\n    setCanScrollNext(api.canScrollNext())\n  }, [])\n\n  const scrollPrev = React.useCallback(() => {\n    api?.scrollPrev()\n  }, [api])\n\n  const scrollNext = React.useCallback(() => {\n    api?.scrollNext()\n  }, [api])\n\n  const handleKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === \"ArrowLeft\") {\n        event.preventDefault()\n        scrollPrev()\n      } else if (event.key === \"ArrowRight\") {\n        event.preventDefault()\n        scrollNext()\n      }\n    },\n    [scrollPrev, scrollNext]\n  )\n\n  React.useEffect(() => {\n    if (!api || !setApi) return\n    setApi(api)\n  }, [api, setApi])\n\n  React.useEffect(() => {\n    if (!api) return\n    onSelect(api)\n    api.on(\"reInit\", onSelect)\n    api.on(\"select\", onSelect)\n\n    return () => {\n      api?.off(\"select\", onSelect)\n    }\n  }, [api, onSelect])\n\n  return (\n    <CarouselContext.Provider\n      value={{\n        carouselRef,\n        api: api,\n        opts,\n        orientation:\n          orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n        scrollPrev,\n        scrollNext,\n        canScrollPrev,\n        canScrollNext,\n      }}\n    >\n      <div\n        onKeyDownCapture={handleKeyDown}\n        className={cn(\"relative\", className)}\n        role=\"region\"\n        aria-roledescription=\"carousel\"\n        data-slot=\"carousel\"\n        {...props}\n      >\n        {children}\n      </div>\n    </CarouselContext.Provider>\n  )\n}\n\nfunction CarouselContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div\n      ref={carouselRef}\n      className=\"overflow-hidden\"\n      data-slot=\"carousel-content\"\n    >\n      <div\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction CarouselItem({ className, ...props }: React.ComponentProps<\"div\">) {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      data-slot=\"carousel-item\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CarouselPrevious({\n  className,\n  variant = \"outline\",\n  size = \"icon\",\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      data-slot=\"carousel-previous\"\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute size-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"top-1/2 -left-12 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n}\n\nfunction CarouselNext({\n  className,\n  variant = \"outline\",\n  size = \"icon\",\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      data-slot=\"carousel-next\"\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute size-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"top-1/2 -right-12 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n}\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n"],"names":["React","useEmblaCarousel","ArrowLeft","ArrowRight","cn","Button","CarouselContext","createContext","useCarousel","context","useContext","Error","Carousel","orientation","opts","setApi","plugins","className","children","props","carouselRef","api","axis","canScrollPrev","setCanScrollPrev","useState","canScrollNext","setCanScrollNext","onSelect","useCallback","scrollPrev","scrollNext","handleKeyDown","event","key","preventDefault","useEffect","on","off","Provider","value","div","onKeyDownCapture","role","aria-roledescription","data-slot","CarouselContent","ref","CarouselItem","CarouselPrevious","variant","size","disabled","onClick","span","CarouselNext"],"mappings":"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"}