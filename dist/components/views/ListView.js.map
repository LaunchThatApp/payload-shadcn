{"version":3,"sources":["../../../src/components/views/ListView.tsx"],"sourcesContent":["\"use server\";\n\nimport { Gutter } from \"@payloadcms/ui\";\nimport { LabelFunction, ListViewServerProps, ServerProps } from \"payload\";\n\nimport ClientListView from \"./ListView.client\";\n\n// Extend Props type to include collection property\ntype Props = ListViewServerProps &\n  ServerProps & {\n    collection?: {\n      labels?: {\n        plural?: string;\n      };\n    };\n  };\n\nexport async function ListView(props: Props) {\n  console.log(\"props\", props.collectionConfig.labels.singular);\n  // Extract only serializable data from the props\n  const serializedData = {\n    // Data items\n    items: props.data?.docs || [],\n    // Collection info\n    collectionSlug: props.collectionSlug,\n    collectionLabel: String(\n      props.collection?.labels?.plural ||\n        props.collectionConfig.labels.singular ||\n        \"\",\n    ),\n    // Pagination info\n    totalDocs: props.data?.totalDocs || 0,\n    // Permissions\n    canCreate: props.hasCreatePermission || false,\n    columnState: props.columnState,\n  };\n\n  // Log on server side for debugging if needed\n  console.log(\n    \"Server component processing data for: \",\n    serializedData.collectionLabel,\n  );\n\n  return (\n    <div>\n      <Gutter>\n        {/* Pass only serializable data to the client component */}\n        <ClientListView {...serializedData} />\n        {/* <PayloadAdminLayout {...serializedData} /> */}\n      </Gutter>\n    </div>\n  );\n}\n"],"names":["Gutter","ClientListView","ListView","props","console","log","collectionConfig","labels","singular","serializedData","items","data","docs","collectionSlug","collectionLabel","String","collection","plural","totalDocs","canCreate","hasCreatePermission","columnState","div"],"mappings":"AAAA;;AAEA,SAASA,MAAM,QAAQ,iBAAiB;AAGxC,OAAOC,oBAAoB,oBAAoB;AAY/C,OAAO,eAAeC,SAASC,KAAY;IACzCC,QAAQC,GAAG,CAAC,SAASF,MAAMG,gBAAgB,CAACC,MAAM,CAACC,QAAQ;IAE3D,MAAMC,iBAAiB;QAErBC,OAAOP,MAAMQ,IAAI,EAAEC,QAAQ,EAAE;QAE7BC,gBAAgBV,MAAMU,cAAc;QACpCC,iBAAiBC,OACfZ,MAAMa,UAAU,EAAET,QAAQU,UACxBd,MAAMG,gBAAgB,CAACC,MAAM,CAACC,QAAQ,IACtC;QAGJU,WAAWf,MAAMQ,IAAI,EAAEO,aAAa;QAEpCC,WAAWhB,MAAMiB,mBAAmB,IAAI;QACxCC,aAAalB,MAAMkB,WAAW;IAChC;IAGAjB,QAAQC,GAAG,CACT,0CACAI,eAAeK,eAAe;IAGhC,OACE,KAACQ;kBACC,KAACtB;sBAEC,KAACC;gBAAgB,GAAGQ,cAAc;;;;AAK1C"}